#summary A log of what changed in Loki in each release
#labels Audience-Users,Audience-Installers,Featured

==Loki 2.0 Release Candidate 5 _(Not yet released)_==
  * Revamped the [Options options system]. The public interface for common cases has not changed, although we now recommend the use of the new `"power"` set in place of `"all"`. ([http://code.google.com/p/loki-editor/issues/detail?id=102 #102])
  * Icons now properly appear with alpha blending in IE6. ([http://code.google.com/p/loki-editor/issues/detail?id=9 #9])
  * Fixed image editing under Firefox 3. ([http://code.google.com/p/loki-editor/issues/detail?id=95 #95])
  * Content that is pasted into the editing document now always receives all cleanups. ([http://code.google.com/p/loki-editor/issues/detail?id=96 #96])
  * Worked around the tendency of Mozilla to rewrite image URL's relative to the editor's location. ([http://code.google.com/p/loki-editor/issues/detail?id=99 #99])
  * Fixed an issue where images could not be inserted under Internet Explorer if the cursor was in a text node. ([http://code.google.com/p/loki-editor/issues/detail?id=100 #100])
  * Fixed issues where clicking a part of the editing window that did not actually have any content in it would not place a carat in Firefox 3 ([http://code.google.com/p/loki-editor/issues/detail?id=103 #103]) and Internet Explorer ([http://code.google.com/p/loki-editor/issues/detail?id=104 #104]).
  * The contextual menu no longer disappears right after appearing in Firefox 3. ([http://code.google.com/p/loki-editor/issues/detail?id=92 #92])
  * Dialog contents no longer become visible before styles are applied to the window. ([http://code.google.com/p/loki-editor/issues/detail?id=93 #93])
  * Made the label of the "Edit source" button somewhat more clear. ([http://code.google.com/p/loki-editor/issues/detail?id=94 #94])
  * Fixed a serious bug in our IE compatibility layer that led to various strange behaviors. ([http://code.google.com/p/loki-editor/issues/detail?id=97 #97])
  * The (obsolete) PHP helper now adds the `charset` attribute to all script tags that it generates. ([http://code.google.com/p/loki-editor/issues/detail?id=101 #101])
  * Various stability fixes to internal code.

==Loki 2.0 Release Candidate 4 _(July 2, 2008)_==
  * Loki is now much easier to use without using a helper script:
    * There is a new public interface (contained within the new `Loki` object) for creating instances of the Loki editor. The new interface hides some additional implementation details from the user, and makes it easier to create Loki instances for multiple `textarea`s. ([http://code.google.com/p/loki-editor/issues/detail?id=85 #85])
    * In cases where the Loki distribution archive is installed normally (i.e. the filename of the `loki.js` script is not changed), Loki can determine the URL to its files automatically. ([http://code.google.com/p/loki-editor/issues/detail?id=84 #84])
    * It is no longer necessary to separately give the locations of the clipboard helper files; they will be found using the normal Loki base URI. ([http://code.google.com/p/loki-editor/issues/detail?id=86 #86])
    * Loki now gives access to its version number in the `Loki.version` string.
  * Four major bugs have been fixed:
    * There was an issue that prevented Loki instances from being created if the default site and type regular expressions were not specified. ([http://code.google.com/p/loki-editor/issues/detail?id=87 #87])
    * The link dialog was not appearing if [CMSIntegration CMS integration] was not being used. ([http://code.google.com/p/loki-editor/issues/detail?id=88 #88])
    * The contextual menu no longer opens at an incorrect position if the editing document has been scrolled. ([http://code.google.com/p/loki-editor/issues/detail?id=77 #77])
    * The PHP helper should no longer mangle the default site and type regular expressions. ([http://code.google.com/p/loki-editor/issues/detail?id=75 #75])
  * The behavior of Loki's automatic cleanup under Firefox 2 was changed, eliminating some serious performance issues. ([http://code.google.com/p/loki-editor/issues/detail?id=76 #76])
  * The toolbar icons have been replaced by new ones based on the [http://www.famfamfam.com/lab/icons/silk/ Silk set]. ([http://code.google.com/p/loki-editor/issues/detail?id=9 #9])

==Loki 2.0 Release Candidate 3 _(June 26, 2008)_==
  * Improved stability of Loki's handling of the delete and backspace keys. ([http://code.google.com/p/loki-editor/issues/detail?id=66 #66])
  * Made the handling of externally-generated tables without `thead`s much less intrusive. ([http://code.google.com/p/loki-editor/issues/detail?id=81 #81])
  * Fixed up the behavior of the buttons for removing horizontal rules. ([http://code.google.com/p/loki-editor/issues/detail?id=67 #67])
  * Fixed an ECMAScript syntax error. ([http://code.google.com/p/loki-editor/issues/detail?id=73 #73])
  * Improved the cleanup of nested paragraphs. ([http://code.google.com/p/loki-editor/issues/detail?id=74 #74])
  * Fixed the cleanup of `param` tags; they are no longer wrapped in paragraphs. ([http://code.google.com/p/loki-editor/issues/detail?id=78 #78])
  * Fixed the cell properties dialog. ([http://code.google.com/p/loki-editor/issues/detail?id=80 #80])
  * Loki no longer includes references to stylesheets from the original developers' website. ([http://code.google.com/p/loki-editor/issues/detail?id=18 #18])
  * PHP helper:
    * The `add_document_style_sheets` method now properly accepts single CSS filenames instead of just arrays of them. ([http://code.google.com/p/loki-editor/issues/detail?id=71 #71])
    * Removed all use of static method calls for PHP5 compatibility. ([http://code.google.com/p/loki-editor/issues/detail?id=72 #72])
    * Improved the stability of the code that serializes Loki's options, so that no combination will produce invalid !JavaScript. ([http://code.google.com/p/loki-editor/issues/detail?id=83 #83])

==Loki 2.0 Release Candidate 2 _(February 5, 2008)_==
A number of important issues were fixed over RC1.
  * We now display a preemptive message explaining the enhanced privileges needed for clipboard operations on Gecko browsers. ([http://code.google.com/p/loki-editor/issues/detail?id=31 #31])
  * Line break elements were being removed when they were at the end of inline elements (instead of just when they occurred at the end of blocks). ([http://code.google.com/p/loki-editor/issues/detail?id=58 #58])
  * Content was being lost from multi-paragraph containers that only contained a sole paragraph during cleanup. ([http://code.google.com/p/loki-editor/issues/detail?id=59 #59])
  * Fixed an issue with cleanup of BR tags when switching from source view. ([http://code.google.com/p/loki-editor/issues/detail?id=60 #60])
  * Running cut or copy on an empty selection was clearing the clipboard. ([http://code.google.com/p/loki-editor/issues/detail?id=62 #62])

==Loki 2.0 Release Candidate 1 _(January 29, 2008)_==
  * When linking to an existing item, anchors now appear in the order in which they appear in the item, not in alphabetical order. ([http://code.google.com/p/loki-editor/issues/detail?id=50 #50])
  * Fixed a bug where the link dialog would sometimes not load the list of existing items. ([http://code.google.com/p/loki-editor/issues/detail?id=52 #52])
  * Fixed a bug where containers that should only contain either zero or two or more paragraphs were not cleaned up if they only contained a single paragraph. ([http://code.google.com/p/loki-editor/issues/detail?id=48 #48])
  * The PHP helper no longer relies on the SCRIPT_URI server variable, which is not always available. ([http://code.google.com/p/loki-editor/issues/detail?id=53 #53])
  * Fixed a bug where the Loki HTML parser sometimes overran the ends of tags.  ([http://code.google.com/p/loki-editor/issues/detail?id=57 #57])
  * The !JavaScript generated by the PHP helper is now more error-aware and more robust in cases where multiple instances of Loki are being generated on one page.
  * The readme file is now more informative (but still not informative enough).
  * Internals:
    * Better support for operations on ranges in Internet Explorer: better node insertion and range positioning implementations, implementations for cloning and deleting the contents of the range, and the ability to create new ranges on documents.
    * New utility functions for traversing a DOM node's ancestry and finding its offset within its parent.
    * The Python helper (and thus the build script) now ignores !JavaScript files that begin with ".". Certain editors can leave these files lying around, and they were being erroneously included in builds.


==Loki 2.0 Beta 4 _(January 19, 2008)_==
  * The new link dialog will now default to displaying the tab that was last used to create a link. ([http://code.google.com/p/loki-editor/issues/detail?id=37 #37])
  * Pressing Enter/Return within a dialog now submits it (unless the cursor is in a position where Enter does something special, like selecting a dropdown item). ([http://code.google.com/p/loki-editor/issues/detail?id=38 #38])
  * The link dialog now allows the user to manually enter in an anchor name when the list of anchors can not be determined. ([http://code.google.com/p/loki-editor/issues/detail?id=19 #19])
  * A button was added to the toolbar that forces Loki to clean up the editing document when it is pressed. ([http://code.google.com/p/loki-editor/issues/detail?id=56 #56])
  * Loki can now always cleanup pasted content, even if the user uses the browser's menu to do so or otherwise bypasses Loki's clipboard capabilities. ([http://code.google.com/p/loki-editor/issues/detail?id=54 #54])
  * Loki now better enforces proper HTML document structure. ([http://code.google.com/p/loki-editor/issues/detail?id=55 #55])
  * The above cleanup changes fix some bizarre Mozilla behavior that occurs when plain text with line breaks is pasted in. ([http://code.google.com/p/loki-editor/issues/detail?id=8 #8])
  * Error messages are now cleared when the retry link is clicked. ([http://code.google.com/p/loki-editor/issues/detail?id=25 #25])
  * Loki can now be configured to allow changes to the size of an image made using the browser's controls to be preserved when the document is saved. ([http://code.google.com/p/loki-editor/issues/detail?id=27 #27])
  * Illegally self-nested HTML elements (e.g. a `B` tag within another `B` tag) are now cleaned up. ([http://code.google.com/p/loki-editor/issues/detail?id=29 #29])
  * Loki now cleans up unnecessary `BR` tags that are the last children of their parents. ([http://code.google.com/p/loki-editor/issues/detail?id=39 #39])
  * The labels on the indent and outdent buttons were changed to be more friendly and informative. ([http://code.google.com/p/loki-editor/issues/detail?id=43 #43])


==Loki 2.0 Beta 3 _(December 19, 2007)_==
  * Fixed a bug that made it impossible to link to an anchor on the item being edited. ([http://code.google.com/p/loki-editor/issues/detail?id=4 #4])
  * The link dialog no longer displays the last existing item you linked to as the default when the user goes to create a new link to an existing item. ([http://code.google.com/p/loki-editor/issues/detail?id=5 #5])
  * Directly editing anchors is now possible. ([http://code.google.com/p/loki-editor/issues/detail?id=13 #13])
  * Loki no longer replaces special punctuation characters with ASCII equivalents. ([http://code.google.com/p/loki-editor/issues/detail?id=14 #14])